!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}module.exports=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(this,"calls",void 0),t(this,"_proxy",void 0),t(this,"baseUrl",void 0),t(this,"delimiter",void 0),t(this,"methods",void 0),this.calls=[],this.delimiter="/",this.baseUrl=e,this.methods={query:function(t,e,i,o){if(void 0===e)this.push(t);else{const t=this.pop()||"",i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).map(e=>"".concat(e,"=").concat(t[e])).join("&")};this.push("".concat(t,"?").concat(i(e)))}}},this.methods=function(e){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),r.forEach(function(i){t(e,i,o[i])})}return e}({},this.methods,i),this._proxy=this._buildProxy(),this._proxy}_isSupportProxy(){return"function"==typeof Proxy}_isMethod(t){return this.methods.hasOwnProperty(t)&&"function"==typeof this.methods[t]}_isPeekingMethod(t){return["toString","valueOf","inspect","constructor",Symbol.toPrimitive,Symbol.toStringTag,Symbol.for("util.inspect.custom"),Symbol.for("nodejs.util.inspect.custom")].includes(t)}onTrapTriggered(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];this.push(t,...i)}_buildProxy(){if(!this._isSupportProxy())throw new Error("Proxy is not supported in current environment.");const t=Object.seal(()=>{});return new Proxy(t,{get:(t,e,i)=>this._isPeekingMethod(e)?()=>this.toString():(this.onTrapTriggered(e),this._proxy),apply:(t,e,i)=>{const o=this.pop();if(this._isMethod(o)){const t=i.shift();let e=this.methods[o].call(this,o,t,i,this.toString());if(void 0!==e)return e}else this.onTrapTriggered(o,...i);return this._proxy}})}push(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];i.length&&(i=i.map(t=>t.toString())),this.calls.push(t.toString(),...i)}pop(){return this.calls.pop()}toString(){return this.baseUrl+this.calls.join(this.delimiter)}}});
//# sourceMappingURL=semantic-api.min.js.map
