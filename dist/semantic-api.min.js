!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function t(t,i,o){return i in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t}module.exports=class{constructor(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(this,"calls",void 0),t(this,"_proxy",void 0),t(this,"bondingStr",void 0),t(this,"waitForBonding",void 0),t(this,"baseUrl",void 0),t(this,"delimiter",void 0),t(this,"methods",void 0),this.calls=[],this.delimiter="/",this.baseUrl=i,this.methods={dot:function(t,i,o,n){void 0===i?this.bonding("."):this.push(t,i,...o)},slash:function(t,i,o,n){void 0===i?this.bonding("/"):this.push(t,i,...o)},http:function(t,i,o,n){void 0===i?this.bonding("http://"):this.push(t,i,...o)},https:function(t,i,o,n){void 0===i?this.bonding("https://"):this.push(t,i,...o)},query:function(t,i,o,n){if(void 0===i)this.push(t,i,...o);else{const t=this.pop(),o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).map(i=>"".concat(i,"=").concat(t[i])).join("&")};this.push("".concat(t,"?").concat(o(i)))}}},this.methods=function(i){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{},s=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),s.forEach(function(o){t(i,o,n[o])})}return i}({},this.methods,o),this._proxy=this._buildProxy(),this._proxy}_isSupportProxy(){return"function"==typeof Proxy}_isMethod(t){return this.methods.hasOwnProperty(t)&&"function"==typeof this.methods[t]}_buildProxy(){if(!this._isSupportProxy())throw new Error("Proxy is not supported in current environment.");const t=Object.seal(()=>{});return new Proxy(t,{get:(t,i,o)=>["toString","valueOf","inspect","constructor",Symbol.toPrimitive,Symbol.for("util.inspect.custom"),Symbol.for("nodejs.util.inspect.custom")].includes(i)?()=>this.toString():(this.onGetProperty(i),this._proxy),apply:(t,i,o)=>{const n=this.pop();if(this._isMethod(n)){const t=o.shift();this.methods[n].call(this,n,t,o,this.toString())}else this.push(n,...o);return this._proxy}})}onGetProperty(t){this.waitForBonding?this.handleBonding(t):this.push(t)}push(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];o=o.map(t=>t&&t.toString()),this.calls.push(t.toString(),...o)}pop(){return this.calls.pop()}bonding(t){this.bondingStr=t,this.waitForBonding=!0}handleBonding(t){const i=this.pop()||"";this.push(i+this.bondingStr+t),this.waitForBonding=!1}toString(){return this.baseUrl+this.calls.join(this.delimiter)+(this.waitForBonding?this.bondingStr:"")}}});
//# sourceMappingURL=semantic-api.min.js.map
